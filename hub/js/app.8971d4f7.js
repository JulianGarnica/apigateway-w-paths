(function(){"use strict";var e={6652:function(e,t,n){var o=n(3058),a=n(9672);const s=(0,a.Lk)("div",{class:"loader"},null,-1),i=(0,a.Lk)("div",{class:"message"},"Cargando la magia...",-1),r={key:0},c={key:1};function l(e,t,n,o,l,u){const d=(0,a.g2)("v-dialog"),g=(0,a.g2)("MenuUser"),f=(0,a.g2)("router-view"),p=(0,a.g2)("LoginViewVue");return(0,a.uX)(),(0,a.CE)("nav",null,[(0,a.bF)(d,{modelValue:l.loading,"onUpdate:modelValue":t[0]||(t[0]=e=>l.loading=e),transition:"dialog-bottom-transition",fullscreen:"",class:"loaderContainer"},{default:(0,a.k6)((()=>[s,i])),_:1},8,["modelValue"]),0!=e.getUserData.id?((0,a.uX)(),(0,a.CE)("nav",r,[(0,a.bF)(g),(0,a.bF)(f)])):((0,a.uX)(),(0,a.CE)("nav",c,[(0,a.bF)(p)]))])}var u=n(9294),d=n(6353),g=n.p+"img/logo.7ba926d9.svg";const f=(0,a.Lk)("div",null,[(0,a.Lk)("img",{alt:"Vue logo",class:"logoImg",src:g})],-1);function p(e,t,n,s,i,r){const c=(0,a.g2)("v-card-text"),l=(0,a.g2)("v-text-field"),u=(0,a.g2)("v-btn"),d=(0,a.g2)("v-form"),g=(0,a.g2)("v-card");return(0,a.uX)(),(0,a.Wv)(g,{class:"mx-auto","prepend-icon":"mdi-home",width:"400"},{default:(0,a.k6)((()=>[f,(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)(" Inicio de sesi칩n a Portal PPSColombia ")])),_:1}),(0,a.bF)(d,{"validate-on":"submit lazy",onSubmit:(0,o.D$)(r.submit,["prevent"])},{default:(0,a.k6)((()=>[(0,a.bF)(l,{modelValue:i.userName,"onUpdate:modelValue":t[0]||(t[0]=e=>i.userName=e),label:"Correo Electr칩nico"},null,8,["modelValue"]),(0,a.bF)(l,{modelValue:i.password,"onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),label:"Contrase침a",type:"password"},null,8,["modelValue"]),(0,a.bF)(u,{loading:i.loading,class:"mt-2",text:"Submit",type:"submit",block:""},null,8,["loading"])])),_:1},8,["onSubmit"])])),_:1})}var m={name:"HomeView",components:{},data(){return{userName:"",password:"",loading:!1}},computed:{...(0,d.L8)("auth",{getLoginApiStatus:"getLoginApiStatus"})},methods:{...(0,d.i0)("auth",{actionLoginApi:"loginApi"}),async submit(){const e={email:this.userName,password:this.password};this.actionLoginApi(e).then((()=>{"success"==this.getLoginApiStatus||alert("failed")}))}}},h=n(4530);const v=(0,h.A)(m,[["render",p]]);var b=v,k=n.p+"img/logoWithoutText.9f0092e0.svg";const A=(0,a.Lk)("img",{alt:"Logo PPSColombia",class:"logoMenuImg",src:k},null,-1),S={href:"/"};function T(e,t,n,o,s,i){const r=(0,a.g2)("v-toolbar-title"),c=(0,a.g2)("v-spacer"),l=(0,a.g2)("v-btn"),u=(0,a.g2)("v-toolbar"),d=(0,a.g2)("AppsMenu"),g=(0,a.g2)("v-card"),f=(0,a.g2)("v-dialog"),p=(0,a.g2)("v-icon");return(0,a.uX)(),(0,a.Wv)(u,{prominent:""},{default:(0,a.k6)((()=>[A,(0,a.Lk)("a",S,[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)("Portal PPSColombia")])),_:1})]),(0,a.bF)(c),(0,a.bF)(c),(0,a.bF)(c),(0,a.bF)(c),(0,a.bF)(c),(0,a.bF)(f,{modelValue:s.dialog,"onUpdate:modelValue":t[1]||(t[1]=e=>s.dialog=e),transition:"dialog-bottom-transition",fullscreen:""},{activator:(0,a.k6)((({props:e})=>[(0,a.bF)(l,(0,a.v6)({"prepend-icon":"mdi-cog",text:"Mis aplicaciones"},e),null,16)])),default:(0,a.k6)((()=>[(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)("Mis aplicaciones")])),_:1}),(0,a.bF)(c),(0,a.bF)(l,{icon:"mdi-close-circle-outline",onClick:t[0]||(t[0]=e=>s.dialog=!1)})])),_:1}),(0,a.bF)(d)])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(l,{"prepend-icon":"mdi-close-circle-outline",onClick:i.closeSession},{prepend:(0,a.k6)((()=>[(0,a.bF)(p,{color:"error"})])),default:(0,a.k6)((()=>[(0,a.eW)(" Cerrar sesi칩n ")])),_:1},8,["onClick"])])),_:1})}var w=n(7072);const y={class:"text-h6 mb-1"},L={class:"text-caption"};function F(e,t,n,o,s,i){const r=(0,a.g2)("v-card-item"),c=(0,a.g2)("v-btn"),l=(0,a.g2)("v-card-actions"),u=(0,a.g2)("v-card"),d=(0,a.g2)("v-col"),g=(0,a.g2)("v-row"),f=(0,a.g2)("v-container");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.bF)(g,{align:"center",justify:"center"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.appsAssigned,((t,n)=>((0,a.uX)(),(0,a.Wv)(d,{key:n,cols:"auto"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{color:s.color,variant:e.flat,class:"mx-auto","max-width":"344"},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[(0,a.Lk)("div",y,(0,w.v_)(t.nameApp),1),(0,a.Lk)("div",L,(0,w.v_)(t.description),1)])])),_:2},1024),(0,a.bF)(l,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,{href:`${t.url}`},{default:(0,a.k6)((()=>[(0,a.eW)(" Acceder ")])),_:2},1032,["href"])])),_:2},1024)])),_:2},1032,["color","variant"])])),_:2},1024)))),128))])),_:1})])),_:1})])}const C={"Content-Type":"application/json"},x="http://localhost:8000/api/",_=["auth/"];function D(e){return u.A.post(`${x}${_[0]}login`,e,{headers:C})}function U(e){return u.A.get(`${x}${_[0]}infoUser`,{headers:{Authorization:`Bearer ${e}`}})}function j(){return u.A.get(`${x}${_[0]}appsUser`,{})}var P=n(4088),V={components:{},data(){return{appsAssigned:null,color:(0,P.KR)("indigo")}},mounted(){this.firstExec()},computed:{},watch:{},methods:{firstExec:function(){j().then((e=>{this.appsAssigned=e.data.appsAssigned}))}}};const E=(0,h.A)(V,[["render",F]]);var O=E,M={components:{AppsMenu:O},data(){return{dialog:!1,notifications:!1,sound:!0,widgets:!1}},methods:{...(0,d.i0)("auth",{actionCloseSession:"closeSession"}),closeSession(){this.actionCloseSession()}}};const N=(0,h.A)(M,[["render",T]]);var $=N,R={components:{LoginViewVue:b,MenuUser:$},data(){return{loading:!1}},computed:{...(0,d.L8)("auth",{getAccessToken:"getAccessToken",getUserData:"getUserData"})},methods:{...(0,d.i0)("auth",{validateLogin:"validateLogin"}),async validateLoginFun(){this.validateLogin()}},created(){this.validateLoginFun(),u.A.interceptors.request.use((e=>(this.loading=!0,""!=this.getAccessToken&&void 0!=this.getAccessToken&&(e.headers["Authorization"]=`Bearer ${this.getAccessToken}`),e)),(e=>(this.loading=!1,Promise.reject(e)))),u.A.interceptors.response.use((e=>(this.loading=!1,e)),(e=>(this.loading=!1,Promise.reject(e))))}};const W=(0,h.A)(R,[["render",l]]);var X=W,q=n(5954);(0,q.k)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var B=n(1149);const I=(0,a.Lk)("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"350.000000pt",height:"350.000000pt",viewBox:"0 0 350.000000 350.000000",preserveAspectRatio:"xMidYMid meet",class:"logo"},[(0,a.Lk)("g",{transform:"translate(-230.000000,479.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none"},[(0,a.Lk)("path",{d:"M4223 4196 c-54 -68 -99 -258 -89 -368 15 -142 55 -212 147 -254 26\n-11 42 -26 47 -43 13 -46 5 -312 -12 -396 -17 -87 -39 -125 -79 -139 -41 -15\n-123 34 -225 133 -113 110 -181 146 -273 145 -54 0 -79 -6 -143 -37 -292 -139\n-428 -576 -274 -882 11 -22 54 -89 96 -150 41 -60 89 -139 106 -175 60 -129\n34 -261 -74 -369 -60 -60 -119 -88 -215 -102 -87 -13 -87 -23 -3 -54 60 -22\n169 -25 234 -7 172 49 258 244 210 473 -16 73 -36 117 -119 257 -70 117 -99\n220 -95 329 l3 78 495 0 c272 0 502 4 511 8 22 11 45 64 60 136 14 73 8 409\n-12 632 l-13 146 43 38 c83 76 102 152 76 310 -8 55 -22 120 -29 146 -20 65\n-58 151 -64 144 -3 -3 -14 -44 -23 -90 -23 -113 -53 -167 -100 -179 -20 -5\n-53 -6 -73 -2 -49 9 -62 41 -79 188 l-12 112 -22 -28z"})])],-1),z=(0,a.Lk)("br",null,null,-1),K=(0,a.Lk)("h1",null,"PORTAL TRANSACCIONAL",-1);function H(e,t,n,o,s,i){const r=(0,a.g2)("v-card");return(0,a.uX)(),(0,a.Wv)(r,{variant:e.flat,elevation:"0"},{default:(0,a.k6)((()=>[I,z,K])),_:1},8,["variant"])}var Y=n(9187),G={mounted(){this.animation()},methods:{animation:()=>{console.log("running..."),(0,Y.A)({targets:"path",strokeDashoffset:[Y.A.setDashoffset,0],easing:"easeInOutCubic",duration:5e3,delay:function(e,t){return 250*t},direction:"alternate",begin:function(){document.querySelector("path").setAttribute("stroke","black"),document.querySelector("path").setAttribute("fill","none")},complete:function(){document.querySelector("path").setAttribute("fill","#0455BF")},loop:!1,autoplay:!0})}}};const J=(0,h.A)(G,[["render",H]]);var Q=J;const Z=[{path:"/",name:"home",component:Q},{path:"/about",name:"about",component:()=>n.e(594).then(n.bind(n,2669))},{path:"/:pathMatch(.*)*",component:()=>n.e(594).then(n.bind(n,2975))}],ee=(0,B.aE)({history:(0,B.LA)("/"),mode:"hash",routes:Z});var te=ee,ne=n(4246);const oe=()=>({loginApiStatus:"failed",accessToken:"",refreshToken:"",userData:{id:0,email:"",nit:"",name:""}}),ae={getLoginApiStatus(e){return e.loginApiStatus},getAccessToken(e){return e.accessToken},getRefreshToken(e){return e.refreshToken},getUserData(e){return e.userData}},se={async validateLogin({commit:e,dispatch:t}){console.log("AccessToken",ne.A.get("accessToken")),ne.A.get("accessToken")&&ne.A.get("refreshToken")&&ne.A.get("userData")&&(e("setLoginApiStatus","success"),e("setAccessToken",ne.A.get("accessToken")),e("setRefreshToken",ne.A.get("refreshToken")),e("setUserData",ne.A.get("userData")),t("userDataApi",ne.A.get("accessToken")))},async loginApi({commit:e},t){const n=await D(t).catch((e=>{console.log(e)}));if(n&&n.data){e("setLoginApiStatus","success"),e("setAccessToken",n.data.accessToken),e("setRefreshToken",n.data.refreshToken);const t=await U(n.data.accessToken).catch((e=>{console.log(e)}));if(t&&t.data)e("setUserData",{id:t.data.user.id,email:t.data.user.email,nit:t.data.user.nit,name:t.data.user.name});else if(e("setUserData",{id:0,email:"",nit:"",name:""}),0==oe.userData.id)return Promise.reject("User not valid")}else e("setLoginApiStatus","failed"),e("setAccessToken",""),e("setRefreshToken","")},async userDataApi({commit:e},t){const n=await U(t).catch((()=>{e("setUserData",{id:0,email:"",nit:"",name:""}),e("setLoginApiStatus","failed"),e("setAccessToken",""),e("setRefreshToken","")}));n&&n.data&&e("setUserData",{id:n.data.user.id,email:n.data.user.email,nit:n.data.user.nit,name:n.data.user.name})},async closeSession({commit:e}){e("setUserData",{id:0,email:"",nit:"",name:""}),e("setLoginApiStatus","failed"),e("setAccessToken",""),e("setRefreshToken","")}},ie={setLoginApiStatus(e,t){e.loginApiStatus=t,ne.A.set("loginApiStatus",t,{expires:3,secure:!0,SameSite:"Strict"})},setAccessToken(e,t){e.accessToken=t,ne.A.set("accessToken",t,{expires:3,secure:!0,SameSite:"Strict"})},setRefreshToken(e,t){e.refreshToken=t,ne.A.set("refreshToken",t,{expires:3,secure:!0,SameSite:"Strict"})},setUserData(e,t){e.userData=t,ne.A.set("userData",t,{expires:3,secure:!0,SameSite:"Strict"})}};var re={namespaced:!0,state:oe,getters:ae,actions:se,mutations:ie},ce=n(7091),le=(0,d.y$)({state:{},getters:{},mutations:{},actions:{},modules:{auth:re},plugins:[(0,ce.A)({getState:e=>ne.A.get(e),setState:(e,t)=>ne.A.set(e,t,{expires:3,secure:!0,SameSite:"Strict"})})]}),ue=(n(8347),n(4002)),de=n(8161),ge=n(1145),fe=n(671);const pe=(0,ue.$N)({components:de,directives:ge,icons:{defaultSet:"mdi",aliases:fe.z,sets:{mdi:fe.r}}});(0,o.Ef)(X).use(le).use(te).use(pe).mount("#app")}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,s){if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],a=e[u][1],s=e[u][2];for(var r=!0,c=0;c<o.length;c++)(!1&s||i>=s)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(r=!1,s<i&&(i=s));if(r){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[o,a,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/about.9f14877d.js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="hub:";n.l=function(o,a,s,i){if(e[o])e[o].push(a);else{var r,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+s){r=d;break}}r||(c=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",t+s),r.src=o),e[o]=[a];var g=function(t,n){r.onerror=r.onload=null,clearTimeout(f);var a=e[o];if(delete e[o],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(g.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=g.bind(null,r.onerror),r.onload=g.bind(null,r.onload),c&&document.head.appendChild(r)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={524:0};n.f.j=function(t,o){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)o.push(a[2]);else{var s=new Promise((function(n,o){a=e[t]=[n,o]}));o.push(a[2]=s);var i=n.p+n.u(t),r=new Error,c=function(o){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var s=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;r.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",r.name="ChunkLoadError",r.type=s,r.request=i,a[1](r)}};n.l(i,c,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,s,i=o[0],r=o[1],c=o[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(c)var u=c(n)}for(t&&t(o);l<i.length;l++)s=i[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},o=self["webpackChunkhub"]=self["webpackChunkhub"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(6652)}));o=n.O(o)})();
//# sourceMappingURL=app.8971d4f7.js.map